<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin â€¢ ÄÄƒng truyá»‡n</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .modal[hidden] {
  display: none !important;
}

  </style>
</head>

<body data-page="admin">
  <header class="topbar">
    <a class="btn" href="index.html">â† Vá» trang chá»§</a>
    <h1>âœï¸ Khu vá»±c Admin</h1>
    <button id="logoutBtn" class="btn subtle">ÄÄƒng xuáº¥t</button>
  </header>
  <main class="container">
    <div id="adminGuard" class="warn">Äang kiá»ƒm tra quyá»n truy cáº­p...</div>

    <!-- Táº¡o truyá»‡n -->
<section id="createStory" class="card" hidden>
  <h2>ThÃªm truyá»‡n má»›i</h2>

  <!-- Link nguá»“n
  <label>Link truyá»‡n (nguá»“n)
    <input id="storyLink" type="url" placeholder="DÃ¡n link truyá»‡n á»Ÿ Ä‘Ã¢y" />
  </label>
  <button id="fetchDataBtn" class="btn subtle">ğŸ“¥ Láº¥y dá»¯ liá»‡u tá»« link</button> -->
  <input type="text" id="storyLink" placeholder="Link gá»‘c (tÃ¹y chá»n)">


  <!-- TiÃªu Ä‘á» -->
  <label>TiÃªu Ä‘á»
    <input id="storyTitle" required />
  </label>

  <!-- MÃ´ táº£ -->
  <label>MÃ´ táº£
    <textarea id="storyDesc" rows="3"></textarea>
  </label>

  <!-- áº¢nh bÃ¬a -->
  <label>áº¢nh bÃ¬a (URL)
    <input id="storyCoverUrl" type="text" placeholder="DÃ¡n link áº£nh bÃ¬a vÃ o Ä‘Ã¢y" />
  </label>

  <button id="createStoryBtn" class="btn">Táº¡o truyá»‡n</button>
</section>


    <!-- ThÃªm chÆ°Æ¡ng -->
    <section id="manageChapters" class="card" hidden>
      <h2>ThÃªm chÆ°Æ¡ng</h2>
      <label>Chá»n truyá»‡n
        <select id="storySelect"></select>
      </label>
      <label>TiÃªu Ä‘á» chÆ°Æ¡ng
        <input id="chapterTitle" />
      </label>
      <label>Ná»™i dung chÆ°Æ¡ng
        <textarea id="chapterContent" rows="8"></textarea>
      </label>
      <button id="addChapterBtn" class="btn">ThÃªm chÆ°Æ¡ng</button>
    </section>
    <hr>
  
<hr>

   <!-- Danh sÃ¡ch truyá»‡n -->
<section id="manageStories" class="card" hidden>
  <h2>Danh sÃ¡ch truyá»‡n</h2>
  <div id="storyList">
  </div>
</section>
<!-- Gá»­i thÆ° -->
<section id="sendMailSection" class="card">
  <h2>ğŸ“© Gá»­i thÆ° Ä‘áº¿n ngÆ°á»i dÃ¹ng</h2>
  <label>TiÃªu Ä‘á»
    <input id="mailSubject" type="text" placeholder="Nháº­p tiÃªu Ä‘á»..." />
  </label>
  <label>Ná»™i dung
    <textarea id="mailBody" rows="5" placeholder="Nháº­p ná»™i dung thÆ°..."></textarea>
  </label>
  <button id="sendMailBtn" class="btn">Gá»­i thÆ°</button>
</section>
  
<hr>
<!-- Sá»­a chÆ°Æ¡ng -->
<section id="editChapterSection" class="card" hidden>
  <h2>Quáº£n LÃ½ Truyá»‡n</h2>
  <label>Chá»n truyá»‡n
    <select id="storySelectEdit"></select>
  </label>
  <label>Chá»n chÆ°Æ¡ng
    <select id="chapterSelect"></select>
  </label>
  <label>TiÃªu Ä‘á» chÆ°Æ¡ng
    <input id="editChapterTitle" />
  </label>
  <label>Ná»™i dung chÆ°Æ¡ng
    <textarea id="editChapterContent" rows="8"></textarea>
  </label>
  <button id="saveChapterEditBtn" class="btn">LÆ°u thay Ä‘á»•i</button>
  <button id="deleteBtn" class="btn btn-danger">ğŸ—‘ï¸ XÃ³a</button>
  <button id="cancelChapterEditBtn" class="btn subtle">Há»§y</button>
</section>

    <dialog id="updateSuccessModal">
  <h3>âœ… Cáº­p nháº­t thÃ nh cÃ´ng!</h3>
  <p>ChÆ°Æ¡ng Ä‘Ã£ Ä‘Æ°á»£c lÆ°u vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u.</p>
  <button id="closeModalBtn" class="btn">ÄÃ³ng</button>
</dialog>
<!-- Modal thÃ´ng bÃ¡o -->
<div id="modalBox" class="modal hidden">
  <div class="modal-content">
    <p id="modalMessage"></p>
    <button id="modalClose">ÄÃ³ng</button>
  </div>
</div>

<!-- Modal xÃ¡c nháº­n -->
<div id="confirmBox" class="modal hidden">
  <div class="modal-content">
    <p id="confirmMessage"></p>
    <div class="actions">
      <button id="confirmYes">OK</button>
      <button id="confirmNo">Há»§y</button>
    </div>
  </div>
</div>
<!-- Modal cáº£nh bÃ¡o quyá»n truy cáº­p -->
<div id="noAccessModal" class="modal" hidden>
  <div class="modal-content">
    <h3>Truy cáº­p bá»‹ tá»« chá»‘i</h3>
    <p>Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p. LiÃªn há»‡ Admin Ä‘á»ƒ Ä‘Æ°á»£c cáº¥p quyá»n.</p>
    <button id="closeNoAccessModal">OK</button>
  </div>
</div>



  </main>

  <script type="module" src="script.js"></script>
    <script>


   function showModal(message) {
  const modal = document.getElementById("modalBox");
  document.getElementById("modalMessage").textContent = message;
  modal.classList.remove("hidden");
  document.getElementById("modalClose").onclick = () => {
    modal.classList.add("hidden");
  };
}

function confirmModal(message) {
  return new Promise((resolve) => {
    const modal = document.getElementById("confirmBox");
    document.getElementById("confirmMessage").textContent = message;
    modal.classList.remove("hidden");

    const yesBtn = document.getElementById("confirmYes");
    const noBtn = document.getElementById("confirmNo");

    yesBtn.onclick = () => {
      modal.classList.add("hidden");
      resolve(true);
    };
    noBtn.onclick = () => {
      modal.classList.add("hidden");
      resolve(false);
    };
  });
}


  </script>

</body>

</html>
